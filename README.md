# Automation of Molecular Analysis with GROMACS

This project contains a Bash script designed to automate the analysis of molecular simulation outputs generated by GROMACS. This script processes trajectory and topology files, extracting various structural and dynamic properties for post-simulation analysis.

## Features

- Automatic processing of:
  - Removal of periodic boundary conditions.
  - RMSD and RMSF calculations.
  - B-factor mapping.
  - Hydrogen bond analysis.
  - Radius of gyration calculation.
  - Secondary structure analysis.
  - Solvent accessible surface area (SASA).
  - Conversion of secondary structure maps to visual-friendly formats.
- Integration with GROMACS tools for seamless analysis.

## Requirements

Ensure the following are installed in your environment:

- [GROMACS](http://www.gromacs.org/) version 2020 or later.
- Bash Shell (available on Linux and macOS distributions).
- Outputs from previous simulations:
  - `md_0_1.trr`: Trajectory file.
  - `md_0_1.tpr`: Run input file (topology and parameter settings).

### Required Files

- Trajectory and topology files from a GROMACS simulation.
- DSSP software for secondary structure analysis (if `do_dssp` is used).

## How to Use

1. **Clone this repository**:
   ```bash
   git clone https://github.com/madsondeluna/gmx_analysis.git
   cd gmx_analysis
   ```

2. **Ensure that the required simulation files are available** in the same directory.

3. **Make the script executable**:
   ```bash
   chmod a+x gmx_analysis.sh
   ```

4. **Run the script**:
   ```bash
   ./gmx_analysis.sh
   ```

5. **Expected Output**:
   - Processed files and results will be saved in the working directory.
   - Key outputs include:
     - `md_0_1noPBC.trr`: Trajectory without periodic boundary conditions.
     - `rmsd.xvg`: Root Mean Square Deviation data.
     - `bfactor.pdb` and `bfactor_average.pdb`: B-factor data for visualization.
     - `filme.pdb`: Centered and compacted trajectory.
     - `raio_giracao.xvg`: Radius of gyration data.
     - `hmap.xpm`: Hydrogen bond map.
     - `ss.pdf`: Secondary structure map in PDF format.

## Script Structure

```bash
#!/bin/bash

# Process trajectory to remove periodic boundary conditions
gmx trjconv -f md_0_1.trr -s md_0_1.tpr -o md_0_1noPBC.trr -pbc mol -ur compact <<EOF
1
EOF

# Compute RMSD
gmx rms -f md_0_1noPBC.trr -s md_0_1.tpr -o rmsd.xvg -tu ns <<EOF
4
4
EOF

# Compute RMSF and extract B-factor mapping
gmx rmsf -f md_0_1noPBC.trr -s md_0_1.tpr -oq bfactor.pdb -ox bfactor_average.pdb -res <<EOF
2
EOF

# Generate centered trajectory
gmx trjconv -f md_0_1noPBC.trr  -s md_0_1.tpr -o filme.pdb -ur compact -center -pbc mol <<EOF
2
2
EOF

# Compute Radius of Gyration
gmx gyrate -f md_0_1noPBC.trr -s md_0_1.tpr -o raio_giracao.xvg <<EOF
1
EOF

# Analyze Hydrogen Bonds
gmx hbond -f md_0_1noPBC.trr -s md_0_1.tpr -hbm hmap.xpm -hbn hbond.ndx -b 1 -e 10000 <<EOF
1
1
EOF

# Analyze Secondary Structure
gmx do_dssp -f md_0_1noPBC.trr -s md_0_1.tpr -tu ns <<EOF
1
EOF

# Convert Secondary Structure Map to PDF
gmx xpm2ps -f ss.xpm -o ss.eps -by 5
ps2pdf ss.eps ss.pdf
```

## Customizations

- **Time Range**:
  - Adjust the `-b` and `-e` parameters for analysis time windows in commands like `hbond`.
- **Reference Groups**:
  - Modify group indices in interactive prompts to suit specific analysis needs.

## Contributions

Contributions are welcome! Follow these steps:

1. Fork the repository.
2. Create a branch for your feature (`git checkout -b my-feature`).
3. Commit your changes (`git commit -m 'My new feature'`).
4. Push to the branch (`git push origin my-feature`).
5. Open a Pull Request.

## License

This project is licensed under the MIT License. See the `LICENSE` file for more details.

## Contact

- Author: Madson Aragão
- Email: [madsondeluna@gmail.com](mailto:madsondeluna@gmail.com)
- LinkedIn: [Madson Aragão](https://www.linkedin.com/in/madsonaragao/)

---

**Attention:** Ensure all required files are in the same directory before running the script to avoid unexpected errors. This project has been tested on Linux systems but can be adapted for other environments.
